<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Does Java pass by reference or pass by value? | 听故事的人</title>
<meta name="description" content="天青色等烟雨，而我在等你">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="shortcut icon" href="https://zzy-tech.github.io//favicon.ico?v=1657251317531">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://zzy-tech.github.io//styles/main.css">


<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


  </head>
  <body>
  
    <nav class="navbar border fixed split-nav">
  <div class="nav-brand">
    <h3><a href="https://zzy-tech.github.io/">听故事的人</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
      <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
        
          <li>
            
              <a href="https://zy080080.github.io/" class="menu">
                HOME
              </a>
            
          </li>
        
          <li>
            
              <a href="https://zy080080.github.io/archives" class="menu">
                Archives
              </a>
            
          </li>
        
          <li>
            
              <a href="https://zy080080.github.io//tags" class="menu">
                Tags
              </a>
            
          </li>
        
          <li>
            
              <a href="https://zy080080.github.io//post/about/" class="menu">
                About
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div id="top" class="row site">
      <div class="sm-12 md-8 col">
        <div class="paper">
          <article class="article">
            <h1>Does Java pass by reference or pass by value?</h1>
            <p class="article-meta">
              2019-09-16 
              
                <a href="https://zzy-tech.github.io/tag/8X28YPImF/" class="badge secondary">
                  English
                </a>
              
                <a href="https://zzy-tech.github.io/tag/S_X7H6n_S/" class="badge ">
                  Java SE
                </a>
              
            </p>
            
            <div class="post-content">
              <p>Source：<a href="https://www.javaworld.com/article/2077424/learn-java-does-java-pass-by-reference-or-pass-by-value.html">https://www.javaworld.com/article/2077424/learn-java-does-java-pass-by-reference-or-pass-by-value.html</a></p>
<!-- more -->
<p><a href="https://zy080080.github.io/post/UYqd_tZ7B/">点此查看相关中文文章</a></p>
<h2 id="q-learn-java-if-java-uses-the-pass-by-reference-why-wont-a-swap-function-work">Q: Learn Java: If Java uses the pass-by reference, why won't a swap function work?</h2>
<p>A: Java does manipulate objects by reference, and all object variables are references. However, Java doesn't pass method arguments by reference; it passes them by value.</p>
<p>Take the badSwap() method for example:</p>
<pre><code>public void badSwap(int var1, int var2)
{
 int temp = var1;
 var1 = var2;
 var2 = temp;
}
</code></pre>
<p>When badSwap() returns, the variables passed as arguments will still hold their original values. The method will also fail if we change the arguments type from int to Object, since Java passes object references by value as well. Now, here is where it gets tricky:</p>
<pre><code>public void tricky(Point arg1, Point arg2)
{
 arg1.x = 100;
 arg1.y = 100;
 Point temp = arg1;
 arg1 = arg2;
 arg2 = temp;
}
public static void main(String [] args)
{
 Point pnt1 = new Point(0,0);
 Point pnt2 = new Point(0,0);
 System.out.println(&quot;X: &quot; + pnt1.x + &quot; Y: &quot; +pnt1.y); 
 System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y: &quot; +pnt2.y);
 System.out.println(&quot; &quot;);
 tricky(pnt1,pnt2);
 System.out.println(&quot;X: &quot; + pnt1.x + &quot; Y:&quot; + pnt1.y); 
 System.out.println(&quot;X: &quot; + pnt2.x + &quot; Y: &quot; +pnt2.y);  
}
</code></pre>
<p>If we execute this main() method, we see the following output:</p>
<pre><code>X: 0 Y: 0
X: 0 Y: 0
X: 100 Y: 100
X: 0 Y: 0
</code></pre>
<p>The method successfully alters the value of pnt1, even though it is passed by value; however, a swap of pnt1 and pnt2 fails! This is the major source of confusion. In the main() method, pnt1 and pnt2 are nothing more than object references. When you pass pnt1 and pnt2 to the tricky() method, Java passes the references by value just like any other parameter. This means the references passed to the method are actually copies of the original references. Figure 1 below shows two references pointing to the same object after Java passes an object to a method.</p>
<figure data-type="image" tabindex="1"><img src="https://images.techhive.com/images/idge/imported/article/jvw/2000/05/03-qa-0512-pass1-100158781-orig.gif" alt="Figure 1. After being passed to a method, an object will have at least two references" loading="lazy"></figure>
<p>Java copies and passes the reference by value, not the object. Thus, method manipulation will alter the objects, since the references point to the original objects. But since the references are copies, swaps will fail. As Figure 2 illustrates, the method references swap, but not the original references. Unfortunately, after a method call, you are left with only the unswapped original references. For a swap to succeed outside of the method call, we need to swap the original references, not the copies.</p>
<p>O'Reilly's Java in a Nutshell by David Flanagan (see Resources) puts it best: &quot;Java manipulates objects 'by reference,' but it passes object references to methods 'by value.'&quot; As a result, you cannot write a standard swap method to swap objects.</p>

            </div>
          </article>
        </div>
        <div class="paper" data-aos="fade-in">
          
            <div class="next-post">
              <div class="next">
                下一篇
              </div>
              <a href="https://zzy-tech.github.io/post/lwMS0nfZZ/">
                <h3 class="post-title">
                  汇编语言笔记（第三章）
                </h3>
              </a>
            </div>
          
        </div>
        
      </div>

      <div class="sm-12 md-4 col sidebar">
  <div class="paper info-container">
    <img src="https://zzy-tech.github.io//images/avatar.png?v=1657251317531" class="no-responsive avatar">
    <div class="text-muted">天青色等烟雨，而我在等你</div>
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      最新文章
    </div>
    <div class="row">
      <ul>
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/wVjJ9Td2t/">Go学习笔记</a>
            </li>
          
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/FCxr0jmyz/">About slice</a>
            </li>
          
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/FS9Dkp9hu/">What is sequence?</a>
            </li>
          
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/ChAMKuYiO/">モジュールが持つ特性</a>
            </li>
          
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/1KjJfbkSn/">ソフトウェア工学</a>
            </li>
          
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/A2C8pQJ7y/">JPAでパラメータで変数の値を渡す方法</a>
            </li>
          
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/RmuKwXL0F/">Spring AOPにおけるPointcut式例</a>
            </li>
          
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/kk4jq6fpX/">Mybatisを始める：Quick Start</a>
            </li>
          
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/8IAmAkZZ0/">MySQL</a>
            </li>
          
        
          
            <li>
              <a href="https://zzy-tech.github.io/post/uDwPfDRbx/">デバッガコマンド</a>
            </li>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </ul>
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      标签列表
    </div>
    <div class="row">
      
        <a href="https://zzy-tech.github.io/tag/5-98E8LbH/" class="badge ">
          Go
        </a>
      
        <a href="https://zzy-tech.github.io/tag/on9YtEMLD/" class="badge warning">
          programming
        </a>
      
        <a href="https://zzy-tech.github.io/tag/notes/" class="badge success">
          Notes
        </a>
      
        <a href="https://zzy-tech.github.io/tag/xue-xi-bi-ji/" class="badge warning">
          学习笔记
        </a>
      
        <a href="https://zzy-tech.github.io/tag/nGuWFEYj1/" class="badge secondary">
          日本語(Japanese)
        </a>
      
        <a href="https://zzy-tech.github.io/tag/iMvcbKw2b/" class="badge secondary">
          Spring Framework
        </a>
      
        <a href="https://zzy-tech.github.io/tag/doiPfjpu0/" class="badge warning">
          Mybatis
        </a>
      
        <a href="https://zzy-tech.github.io/tag/EgqcbSedJ/" class="badge secondary">
          database
        </a>
      
        <a href="https://zzy-tech.github.io/tag/t07z1l2wA/" class="badge ">
          OS
        </a>
      
        <a href="https://zzy-tech.github.io/tag/iT-NcpTKs/" class="badge ">
          コンパイラ
        </a>
      
        <a href="https://zzy-tech.github.io/tag/ygzIfFUIG/" class="badge secondary">
          Git
        </a>
      
        <a href="https://zzy-tech.github.io/tag/S_X7H6n_S/" class="badge success">
          Java SE
        </a>
      
        <a href="https://zzy-tech.github.io/tag/8X28YPImF/" class="badge warning">
          English
        </a>
      
        <a href="https://zzy-tech.github.io/tag/AI85XAiNw/" class="badge secondary">
          中文(Chinese)
        </a>
      
        <a href="https://zzy-tech.github.io/tag/nbExELLRD/" class="badge success">
          Tomcat
        </a>
      
        <a href="https://zzy-tech.github.io/tag/2a7cYaXp0/" class="badge secondary">
          Java
        </a>
      
        <a href="https://zzy-tech.github.io/tag/hui-bian-yu-yan/" class="badge secondary">
          汇编语言
        </a>
      
        <a href="https://zzy-tech.github.io/tag/zhuan-zai/" class="badge success">
          转载
        </a>
      
        <a href="https://zzy-tech.github.io/tag/DQLqh7V4P/" class="badge secondary">
          Assembly Language
        </a>
      
        <a href="https://zzy-tech.github.io/tag/ri-chang/" class="badge success">
          日常
        </a>
      
    </div>
  </div>
  <div class="paper">
    zzylikemj@outlook.com | <a class="rss" href="https://zzy-tech.github.io//atom.xml" target="_blank">RSS</a>
  </div>
</div>


    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

</script>




  </body>
</html>
